<div layout="row" layout-align="start center">
 <div layout="row" layout-align="start center" flex class="gb-left-nav">
  <md-button id="navigation-toggle" class="md-icon-button" ng-click="vm.toggleSidenav('navigation')"
             aria-label="Toggle navigation" translate
             translate-attr-aria-label="TOOLBAR.TOGGLE_NAVIGATION">
   <md-icon md-font-icon="fa fa-bars" class="icon"></md-icon>
  </md-button>
  <div class="toolbar-separator"></div>
  <ms-search-bar class="" on-search="vm.search(query)" on-result-click="vm.searchResultClick(item)" debounce="1000"></ms-search-bar>

  <md-button class="md-icon-button" ui-sref="app.explorer.home" hide-xs
             aria-label="Open explorer" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa icon-gb-explorer" class="icon"></md-icon>
  </md-button>
  <md-button class="md-icon-button" ui-sref="app.swipe.home" hide-xs
             aria-label="Open Swipe" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa icon-gb-swipe" class="icon"></md-icon>
  </md-button>
  <md-button class="md-icon-button" ui-sref="app.matcher.home" hide-xs
             aria-label="Open Matcher" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa icon-gb-matcher" class="icon"></md-icon>
  </md-button>
  <md-button class="md-icon-button" ui-sref="app.mentorships.home" hide-xs
             aria-label="Open swipe" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa icon-gb-mentorships" class="icon"></md-icon>
  </md-button>
  <div class="toolbar-separator"></div>
 </div>
 <div class="logo" layout="row" layout-align="center center" flex class="gb-middle-nav">
  <md-button ui-sref="app.welcome" layout="row" layout-align="center center">
   <span class="logo-image">
    <i class="fa icon-gb-logo"></i>
   </span>
   <span class="logo-text">
    <strong>SKILL</strong>SECTION
   </span>
  </md-button>
 </div>
 <div ng-if="$root.authenticated" layout="row" layout-align="end center" class="gb-right-nav">
  <md-progress-circular id="toolbar-progress" ng-if="$root.loadingProgress" class="md-accent"
                        md-mode="indeterminate" md-diameter="32">
  </md-progress-circular>
  <md-menu-bar id="user-menu">
   <md-menu md-position-mode="left bottom">
    <md-button class="user-button" ng-click="$mdOpenMenu()"
               aria-label="User settings"
               translate translate-attr-aria-label="TOOLBAR.USER_SETTINGS">
     <div layout="row" layout-align="end center">
      <div class="avatar-wrapper">
       <img md-menu-align-target class="avatar"  ng-src="src/assets/images/profile_pic/{{$root.user.avatar_url}}">
       <md-icon ng-if="false" md-font-icon ng-class="vm.userStatus.icon"
                ng-style="{'color': vm.userStatus.color }"
                class="icon status s16">
       </md-icon>
      </div>
     </div>
    </md-button>
    <md-menu-content width="3">
     <md-menu-item class="md-indent" ui-sref="app.profileLinearView.home({'userId': $root.user.id})">
      <md-icon md-font-icon="icon-account" class="icon"></md-icon>
      <md-button>
       <div class="gb-ellipsis">
        {{$root.user.firstname + ' ' + $root.user.lastname}}
       </div>
      </md-button>
     </md-menu-item>
     <md-menu-item class="md-indent" ui-sref="app.mail">
      <md-icon md-font-icon="icon-email" class="icon"></md-icon>
      <md-button>Inbox</md-button>
     </md-menu-item>

     <md-menu-item class="md-indent">
      <md-icon md-font-icon ng-class="vm.userStatus.icon"
               ng-style="{
                 'color': vm.userStatus.color }" class="icon"></md-icon>
      <md-menu id="user-status-menu">
       <md-button ng-click="$mdOpenMenu()" class="status" ng-class="vm.userStatus.class">
        {{vm.userStatus.title}}
       </md-button>
       <md-menu-content width="2">
        <md-menu-item class="status md-indent"
                      ng-class="{
                        'selected': status === vm.userStatus}"
                      ng-repeat="status in vm.userStatusOptions">
         <md-icon md-font-icon="{{status.icon}}" ng-style="{
           'color':status.color }"
                  class="icon"></md-icon>
         <md-button ng-click="vm.setUserStatus(status)">
          {{status.title}}
         </md-button>
        </md-menu-item>
       </md-menu-content>
      </md-menu>
     </md-menu-item>
     <md-menu-divider></md-menu-divider>
     <md-menu-item class="md-indent">
      <md-icon md-font-icon="icon-logout" class="icon"></md-icon>
      <md-button ng-click="vm.logout()">Logout</md-button>
     </md-menu-item>
    </md-menu-content>
   </md-menu>
  </md-menu-bar>
  <md-menu ng-if="false" id="language-menu" md-offset="0 72" md-position-mode="target-right target">
   <md-button class="language-button" ng-click="$mdOpenMenu()"
              aria-label="Language" md-menu-origin md-menu-align-target>
    <div layout="row" layout-align="center center">
     <img class="flag" ng-src="src/assets/images/flags/{{vm.selectedLanguage.flag}}.png">
     <span class="iso">{{vm.selectedLanguage.code}}</span>
    </div>
   </md-button>

   <md-menu-content width="3" id="language-menu-content">
    <md-menu-item ng-repeat="(iso, lang) in vm.languages">
     <md-button ng-click="vm.changeLanguage(lang)" aria-label="{{lang.title}}" translate
                translate-attr-aria-label="{{lang.title}}">
      <span layout="row" layout-align="start center">
       <img class="flag" ng-src="src/assets/images/flags/{{lang.flag}}.png">
       <span translate="{{lang.translation}}">{{lang.title}}</span>
      </span>
     </md-button>
    </md-menu-item>
   </md-menu-content>
  </md-menu>
  <div class="toolbar-separator"></div>
  <md-button id="quick-panel-toggle" class="md-icon-button" ng-click="vm.toggleSidenav('quick-panel')"
             aria-label="Toggle quick panel" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="icon-format-list-bulleted" class="icon"></md-icon>
  </md-button>
 </div>

 <div ng-if="!$root.authenticated" layout="row" layout-align="end center" class="gb-right-nav">
  <md-progress-circular id="toolbar-progress" ng-if="$root.loadingProgress" class="md-accent"
                        md-mode="indeterminate" md-diameter="32">
  </md-progress-circular>
  <div class="toolbar-separator"></div>
  <md-button id="signup-toggle" class="md-icon-button" ng-click="vm.toggleSidenav('registration-panel')"
             aria-label="Toggle quick panel" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa fa-key" class="icon"></md-icon>
  </md-button>
  <md-button id="login-toggle" class="md-icon-button" ng-click="vm.toggleSidenav('login-panel')"
             aria-label="Toggle quick panel" translate translate-attr-aria-label="TOOLBAR.TOGGLE_QUICK_PANEL">
   <md-icon md-font-icon="fa fa-sign-in" class="icon"></md-icon>
  </md-button>
 </div>
</div>