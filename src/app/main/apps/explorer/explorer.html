<!-- EXPLORER APP -->
<div id="explorer" class="" layout="column">

    <!-- MAIN SIDENAV -->
    <md-sidenav class="sidenav main-sidenav md-white-bg" ms-scroll
                md-component-id="main-sidenav"
                ms-sidenav-helper ng-include="'src/app/main/apps/explorer/sidenavs/main/main-sidenav.html'">
    </md-sidenav>
    <!-- / MAIN SIDENAV -->

    <!-- TOOLBAR -->
    <md-toolbar class="md-accent">

        <div class="md-toolbar-tools" layout="row" layout-align="space-between center">

            <div layout="row">

                <!-- MAIN SIDENAV BUTTON -->
                <md-button class="md-icon-button sidenav-toggle" ng-click="vm.toggleSidenav('main-sidenav')"
                           aria-label="Toggle sidenav" translate translate-attr-aria-label="EXPLORER.TOGGLE_SIDENAV">
                    <md-icon md-font-icon="icon-menu" class="icon"></md-icon>
                </md-button>
                <!-- / MAIN SIDENAV BUTTON -->

                <!-- MAIN TITLE -->
                <div class="main-title" layout="row" layout-align="start center">

                    <md-icon class="logo-icon mr-8" md-font-icon="icon-lightbulb"></md-icon>

                    <span class="title" ng-if="vm.noteListType === 'explorer'"
                          translate="EXPLORER.EXPLORER">Explorer</span>
                    <span class="title" ng-if="vm.noteListType === 'reminders'"
                          translate="EXPLORER.REMINDERS">Reminders</span>
                    <span class="title" ng-if="vm.noteListType === 'archive'"
                          translate="EXPLORER.ARCHIVE">Archive</span>
                    <span class="title" ng-if="vm.noteListType.name">{{vm.noteListType.name}}</span>

                    <span ng-if="filteredExplorer.length" class="pl-8 white-text secondary-text explorer-count">
                        ({{filteredExplorer.length}})
                    </span>

                </div>
                <!-- / MAIN TITLE-->

            </div>

            <div flex></div>

            <!-- SEARCH BUTTON -->
            <md-button class="md-icon-button sidenav-toggle" ng-click="vm.openSearchToolbar()"
                       aria-label="open search toolbar" translate translate-attr-aria-label="EXPLORER.OPEN_SEARCH_TOOLBAR">
                <md-icon md-font-icon="icon-magnify" class="icon"></md-icon>
            </md-button>
            <!-- / SEARCH BUTTON -->

        </div>

        <!-- SEARCH TOOLBAR -->
        <div ng-show="vm.searchToolbar" class="md-toolbar-tools search-toolbar animate-slide-down md-accent-bg"
             layout="row" layout-align="start center">

            <!-- TOLLBAR CLOSE BUTTON -->
            <md-button class="md-icon-button" ng-click="vm.closeSearchToolbar()" translate
                       translate-attr-aria-label="EXPLORER.CLOSE" aria-label="close">
                <md-icon md-font-icon="icon-close" class="mr-8"></md-icon>
            </md-button>
            <!-- / TOLLBAR CLOSE BUTTON -->

            <!-- SEARCH -->
            <input id="search-explorer-input" placeholder="Search explorer" type="text" ng-model="vm.search" translate
                   translate-attr-placeholder="EXPLORER.SEARCH_EXPLORER" ng-model-options="{'debounce': 200}" flex>
            <!-- / SEARCH -->

        </div>
        <!-- / SEARCH TOOLBAR -->

    </md-toolbar>
    <!-- / TOOLBAR -->

    <md-content ms-scroll flex>

        <!-- NEW COMPONENT -->
        <ms-new-note ng-hide="vm.noteListType === 'archive'" class="md-whiteframe-2dp"></ms-new-note>
        <!-- / NEW COMPONENT -->

        <!-- EXPLORER -->
        <ms-masonry class="explorer" options='{"columnCount":5}'>

            <!-- COMPONENT -->
            <!-- Add "no-font-resize" attr for disable font resizing -->
            <ms-masonry-item class="note"
                             ng-repeat="note in vm.explorer | filter:vm.search | filter:vm.filters | filterByPropIds:'labels':vm.labelFilterIds |  orderBy: 'time':true | filter:query as filteredExplorer track by note.id "
                             ms-note-item="note"
                             ng-click="vm.editComponent($event, note.id)">
            </ms-masonry-item>
            <!-- / COMPONENT -->

        </ms-masonry>
        <!-- EXPLORER -->

        <!-- NO RESULTS -->
        <div class="no-results text-center" ng-if="filteredExplorer.length === 0 &&  vm.search === ''">

            <div class="message" ng-if="vm.noteListType === 'explorer'">
                <md-icon class="message-icon s96" md-font-icon="icon-lightbulb"></md-icon>
                <div class="message-text" translate="EXPLORER.NO_EXPLORER_YET">No explorer yet...</div>
            </div>

            <div class="message" ng-if="vm.noteListType === 'reminders'">
                <md-icon class="message-icon s96" md-font-icon="icon-bell"></md-icon>
                <div class="message-text" translate="EXPLORER.NO_EXPLORER_WITH_REMINDERS">No explorer with reminders</div>
            </div>

            <div class="message" ng-if="vm.noteListType === 'archive'">
                <md-icon class="message-icon s96" md-font-icon="icon-archive"></md-icon>
                <div class="message-text" translate="EXPLORER.NO_ARCHIVED_EXPLORER">No archived Explorer</div>
            </div>

            <div class="message" ng-if="vm.noteListType.name">
                <md-icon class="message-icon s96" md-font-icon="icon-label"></md-icon>
                <div class="message-text" translate="EXPLORER.NO_EXPLORER_WITH_THIS_LABEL">No explorer with this label</div>
            </div>

        </div>

        <div class="no-results text-center" ng-if="filteredExplorer.length === 0 &&  vm.search !== ''">

            <div class="message">
                <md-icon class="message-icon s96" md-font-icon="icon-lightbulb"></md-icon>
                <div class="message-text" translate="EXPLORER.NO_RESULTS">No results...</div>
            </div>

        </div>
        <!-- / NO RESULTS -->

    </md-content>

</div>
<!-- / EXPLORER APP -->