angular.module("UserController",[]).controller("UserController",["$scope","User","$localStorage","$location",function(a,b,c,d){a.login=function(){var d=new b({username:this.username,password:this.password});d.$login(function(b){c.token=b.token,a.getAuthenticatedUser(b)},function(a){console.log(a)})},a.create=function(){if(this.password!=this.passwordConfirmation)return alert("The passwords do not match.");var e=new b({username:this.username,password:this.password,email:this.email});e.$save(function(b){c.token=b.token,a.getAuthenticatedUser(b),d.path("users/view/"+b.id)},function(a){console.log(a)})},a.findOne=function(){var c=d.path().split("/"),e=c[c.length-1];a.user=b.get({userId:e})}}]);