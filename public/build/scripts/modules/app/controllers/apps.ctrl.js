"use strict";var appsCtrl=function(ConstantsSrv,SearchSrv,level_categories,$scope,$auth,$state,$http,$rootScope,$uibModal,$aside,localStorageService){function moveBy(scrollId,delta){var selector=scrollId,$scrollable=$(selector),curScroll=$scrollable.scrollLeft(),scrollTo=curScroll+delta;scrollTo=delta>0?Math.min(scrollTo,$(window).width()):Math.max(scrollTo,0),$scrollable.scrollLeft(scrollTo)}function assignNewIndexesToSlides(indexes){for(var i=0,l=vm.slides.length;l>i;i++)vm.slides[i].id=indexes.pop()}function generateIndexesArray(){for(var indexes=[],i=0;currIndex>i;++i)indexes[i]=i;return shuffle(indexes)}function shuffle(array){var tmp,current,top=array.length;if(top)for(;--top;)current=Math.floor(Math.random()*(top+1)),tmp=array[current],array[current]=array[top],array[top]=tmp;return array}var vm=this;$rootScope.scrollHorizontal=function(sectionId,delta){moveBy(sectionId,delta)},vm.constantsSrv=new ConstantsSrv,vm.logout=function(){$auth.logout(),localStorageService.remove("user"),$rootScope.authenticated=!1,$state.go("apps.home")},vm.searchParams;$scope.selected=void 0,vm.searchSrv=new SearchSrv,$rootScope.getSearchSuggestions=function(val){var searchData={query:val};return vm.searchSrv.simpleSearchSuggestion(searchData).then(function(response){return response.data})},$scope.modelOptions={debounce:{"default":500,blur:250},getterSetter:!0},vm.clearSearch=function($event,$select){},$rootScope.search=function(){$state.go("apps.search.all",null,{reload:"apps.search.all"})},$rootScope.openSearchModal=function(){var modalInstance=$aside.open({animation:!0,placement:"top",templateUrl:"search-modal.html",size:"gb-search",controller:function($scope,$uibModalInstance){$scope.close=function(){$uibModalInstance.close()}}});modalInstance.result.then(function(explorer){})},$rootScope.openMenuModal=function(position){var modalInstance=$aside.open({placement:position,templateUrl:"menu-modal.html",size:"menu",controller:function($scope,$uibModalInstance){$scope.close=function(){$uibModalInstance.close()}}});modalInstance.result.then(function(){},function(){})},vm.loginError=!1,vm.loginErrorText,vm.openLoginModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"login-modal.html",controller:"LoginModalCtrl as loginModalCtrl",backdrop:"static",size:"login",resolve:{}});modalInstance.result.then(function(skill){},function(){console.log("Modal dismissed at: "+new Date)})},vm.openRegistrationModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"registration-modal.html",controller:"RegistrationModalCtrl as registrationModalCtrl",backdrop:"static",size:"registration",resolve:{}});modalInstance.result.then(function(skill){},function(){console.log("Modal dismissed at: "+new Date)})},vm.getTemplateUrl=function(explorer,size){return"default.png"===explorer.explorer_picture_url?"public/build/scripts/modules/explorer/views/templates/explorer-box-1"+size+".tpl.html":"public/build/scripts/modules/explorer/views/templates/explorer-box"+size+".tpl.html"},vm.getSubTemplateUrl=function(explorer){return"default.png"===explorer.explorer_picture_url?"public/build/scripts/modules/explorer/views/templates/sub-explorer/sub-explorer-box-1.tpl.html":"public/build/scripts/modules/explorer/views/templates/sub-explorer/sub-explorer-box.tpl.html"},vm.getComponentTemplateUrl=function(conponentId){switch(conponentId){case level_categories.component.note:return"public/build/scripts/modules/explorer/views/templates/note/component-note-box.tpl.html";case level_categories.component.activity:return"public/build/scripts/modules/explorer/views/templates/activity/component-activity-box.tpl.html";case level_categories.component.guideline:return"public/build/scripts/modules/explorer/views/templates/guideline/component-guideline-box.tpl.html"}},vm.appsGridSettings={columns:12,margins:[15,15],mobileBreakPoint:600,mobileModeEnabled:!0,rowHeight:50,defaultSizeX:12,defaultSizeY:10,resizable:{enabled:!1},draggable:{enabled:!1}},vm.apps=[],vm.myInterval=5e3,vm.noWrapSlides=!1,vm.active=0,vm.slides=[{image:"public/build/img/landing-page/background-surfing.png",text:"surfing",id:0},{image:"public/build/img/landing-page/background-grilling.png",text:"grilling",id:1},{image:"public/build/img/landing-page/background-chess.png",text:"chess",id:2},{image:"public/build/img/landing-page/background-piano.png",text:"piano",id:3},{image:"public/build/img/landing-page/background-soccer.png",text:"soccer",id:4}];var currIndex=0;vm.randomize=function(){var indexes=generateIndexesArray();assignNewIndexesToSlides(indexes)},vm.constantsSrv.getLevel(level_categories.apps).then(function(data){vm.apps=data})};appsCtrl.$inject=["ConstantsSrv","SearchSrv","level_categories","$scope","$auth","$state","$http","$rootScope","$uibModal","$aside","localStorageService"],angular.module("app").controller("AppsCtrl",appsCtrl);