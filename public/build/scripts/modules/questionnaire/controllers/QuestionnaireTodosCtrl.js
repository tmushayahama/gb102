var questionnaireTodosCtrl=function(QuestionnaireTodosManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log){var vm=this;vm.questionnaireId=$stateParams.questionnaireId,vm.questionnaireTodosManager=new QuestionnaireTodosManager,vm.todoFormDisplay=!1,vm.defaultQuestionnaireTodoData={questionnaireId:$stateParams.questionnaireId,privacy:0},vm.newQuestionnaireTodoData=angular.copy(vm.defaultQuestionnaireTodoData),vm.showTodoForm=function(){vm.todoFormDisplay=!0},vm.createQuestionnaireTodo=function(data){vm.questionnaireTodosManager.createQuestionnaireTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newQuestionnaireTodoData=angular.copy(vm.defaultQuestionnaireTodoData)},function(response){console.log(response)})},vm.editQuestionnaireTodo=function(data){vm.questionnaireTodosManager.editQuestionnaireTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newQuestionnaireTodoData=angular.copy(vm.defaultQuestionnaireTodoData)},function(response){console.log(response)})},vm.editQuestionnaireTodoSections={title:function(questionnaireTodoId,title){var questionnaireTodoData={questionnaireTodoId:questionnaireTodoId,title:title};vm.editQuestionnaireTodo(questionnaireTodoData)}},vm.cancelQuestionnaireTodo=function(form){vm.todoFormDisplay=!1,vm.newQuestionnaireTodoData=angular.copy(vm.defaultQuestionnaireTodoData),form&&(form.$setPristine(),form.$setUntouched())},vm.editedTodo=null,$scope.$watch(angular.bind(this,function(){return vm.questionnaireTodos}),function(){vm.doneCount=vm.questionnaireTodosManager.questionnaireTodos.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editTodo=function(questionnaireTodo){vm.editedTodo=questionnaireTodo,vm.originalTodo=angular.copy(questionnaireTodo)},vm.doneEditing=function(questionnaireTodo){vm.editedTodo=null,questionnaireTodo.title=questionnaireTodo.title.trim(),questionnaireTodo.title||vm.removeTodo(questionnaireTodo)},vm.openQuestionnaireTodo=function(questionnaireTodo){var modalInstance=$uibModal.open({animation:!0,templateUrl:"questionnaire-todo-modal.html",controller:"QuestionnaireTodoCtrl as questionnaireTodoCtrl",backdrop:"static",size:"xl",resolve:{questionnaireTodoData:function(){return questionnaireTodo}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.questionnaireTodosManager.getQuestionnaireTodos(vm.questionnaireId)};questionnaireTodosCtrl.$inject=["QuestionnaireTodosManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log"],angular.module("app.questionnaire").controller("QuestionnaireTodosCtrl",questionnaireTodosCtrl);