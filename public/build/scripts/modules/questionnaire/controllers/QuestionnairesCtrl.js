var questionnairesCtrl=function(level_categories,ConstantsManager,QuestionnairesManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-questionnaire.css"},$scope),vm.questionnairesManager=new QuestionnairesManager,vm.constantsManager=new ConstantsManager,$rootScope.appName="MATCHER",vm.questionnaireLevels,vm.createQuestionnaire=function(data){vm.questionnairesManager.createQuestionnaire(data).then(function(response){vm.FormDisplay=!1,vm.newQuestionnaireData=angular.copy(vm.defaultQuestionnaireData),vm.questionnairesCopy=angular.copy(vm.questionnairesManager.questionnaires)},function(response){console.log(response)})},vm.editQuestionnaire=function(data){vm.questionnairesManager.editQuestionnaire(data).then(function(response){vm.FormDisplay=!1,vm.newQuestionnaireData=angular.copy(vm.defaultQuestionnaireData),vm.questionnairesCopy=angular.copy(vm.questionnairesManager.questionnaires)},function(response){console.log(response)})},vm.editQuestionnaireSections={details:function(questionnaireId,detail){var questionnaireData={questionnaireId:questionnaireId,title:detail.title,description:detail.description};vm.editQuestionnaire(questionnaireData)}},vm.cancelQuestionnaire=function(form){vm.FormDisplay=!1,vm.newQuestionnaireData=angular.copy(vm.defaultQuestionnaireData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertQuestionnaire=function(questionnaire,questionnaireCopy){questionnaire=questionnaireCopy},vm.edited=null,$scope.$watch(angular.bind(this,function(){return vm.questionnaires}),function(){vm.doneCount=vm.questionnairesManager.questionnaires.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.edit=function(questionnaire){vm.edited=questionnaire,vm.original=angular.copy(questionnaire)},vm.doneEditing=function(questionnaire){vm.edited=null,questionnaire.title=questionnaire.title.trim(),questionnaire.title||vm.remove(questionnaire)},vm.openAddQuestionnaireModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"add-questionnaire-modal.html",controller:"AddQuestionnaireCtrl as addQuestionnaireCtrl",backdrop:"static",size:"xl",resolve:{questionnaireLevels:function(){return vm.questionnaireLevels}}});modalInstance.result.then(function(questionnaire){vm.questionnairesManager.createQuestionnaire(questionnaire)},function(){$log.info("Modal dismissed at: "+new Date)})},vm.constantsManager.getLevel(level_categories.questionnaire).then(function(data){vm.questionnaireLevels=data})};questionnairesCtrl.$inject=["level_categories","ConstantsManager","QuestionnairesManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.questionnaire").controller("QuestionnairesCtrl",questionnairesCtrl);