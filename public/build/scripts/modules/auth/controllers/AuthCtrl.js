"use strict";angular.module("app").controller("AuthCtrl",["$scope","$auth","$state","$http","$rootScope","localStorageService",function(a,b,c,d,e,f){var g=this;a.$on("ocLazyLoad.moduleLoaded",function(a,b){}),a.$on("ocLazyLoad.componentLoaded",function(a,b){}),a.$on("ocLazyLoad.fileLoaded",function(a,b){console.log("event file loaded",b)}),g.loginError=!1,g.loginErrorText,g.login=function(){var a={email:g.email,password:g.password};b.login(a).then(function(){return d.get("api/authenticate/user")},function(a){g.loginError=!0,g.loginErrorText=a.data.error}).then(function(a){var b=JSON.stringify(a.data.user);f.set("user",b),e.authenticated=!0,e.user=a.data.user,$("#gb-login-modal").modal("hide"),c.go("apps.skills")})}}]);