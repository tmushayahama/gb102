var swipeCtrl=function(_,ConstantsSrv,SwipeSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-swipe.css"},$scope),vm.swipe=[];vm.range=function(min,max){return _.range(min,max)},vm.swipeIcons=[],vm.swipeIconsArray=[];var getRand=function(min,max){return Math.floor(Math.random()*max+min)};vm.getRandomSwipeIcons=function(){for(var i=0;5>i;i++){for(var rowArray=[],j=0;j<vm.swipeIcons.length;j++){var rand=getRand(0,vm.swipeIcons.length);rowArray.push(vm.swipeIcons[rand].name)}vm.swipeIconsArray.push(rowArray)}},vm.swipeId=$stateParams.swipeId,vm.swipeSrv=new SwipeSrv,vm.constantsSrv=new ConstantsSrv,vm.swipeFormDisplay=!1,vm.getSwipe=function(id,data){vm.swipeSrv.getSwipe(id,data).success(function(response){vm.swipe=response}).error(function(response){console.log(response)})},vm.defaultSwipeData={swipeId:$stateParams.swipeId,privacy:0},vm.newSwipeData=angular.copy(vm.defaultSwipeData),vm.showForm=function(){vm.FormDisplay=!0},vm.createSwipe=function(data){vm.swipeSrv.createSwipe(data).then(function(response){vm.FormDisplay=!1,vm.newSwipeData=angular.copy(vm.defaultSwipeData),vm.swipeCopy=angular.copy(vm.swipeSrv.swipe)},function(response){console.log(response)})},vm.editSwipe=function(data){vm.swipeSrv.editSwipe(data).then(function(response){vm.FormDisplay=!1,vm.newSwipeData=angular.copy(vm.defaultSwipeData),vm.swipeCopy=angular.copy(vm.swipeSrv.swipe)},function(response){console.log(response)})},vm.editSwipeSections={details:function(swipeId,detail){var swipeData={swipeId:swipeId,title:detail.title,description:detail.description};vm.editSwipe(swipeData)}},vm.cancelSwipe=function(form){vm.FormDisplay=!1,vm.newSwipeData=angular.copy(vm.defaultSwipeData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertSwipe=function(swipe,swipeCopy){swipe=swipeCopy},vm.edited=null,$scope.$watch(angular.bind(this,function(){return vm.swipe}),function(){vm.doneCount=vm.swipeSrv.swipe.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.edit=function(swipe){vm.edited=swipe,vm.original=angular.copy(swipe)},vm.doneEditing=function(swipe){vm.edited=null,swipe.title=swipe.title.trim(),swipe.title||vm.remove(swipe)},vm.swipeSrv.getSwipe(vm.swipeId),vm.constantsSrv.getIcons(1).then(function(data){vm.swipeIcons=data,vm.getRandomSwipeIcons()})};swipeCtrl.$inject=["_","ConstantsSrv","SwipeSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.swipe").controller("SwipeCtrl",swipeCtrl);