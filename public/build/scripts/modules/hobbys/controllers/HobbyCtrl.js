angular.module("app.hobbys").controller("HobbyCtrl",["_","ConstantsManager","HobbyManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;m.bind({href:"public/css/gb-sass/stylesheets/gb-themes/app-theme-4.css"},d),n.hobby=[];n.range=function(b,c){return a.range(b,c)},n.hobbyIcons=[],n.hobbyIconsArray=[];var o=function(a,b){return Math.floor(Math.random()*b+a)};n.getRandomHobbyIcons=function(){for(var a=0;5>a;a++){for(var b=[],c=0;c<n.hobbyIcons.length;c++){var d=o(0,n.hobbyIcons.length);b.push(n.hobbyIcons[d].name)}n.hobbyIconsArray.push(b)}},n.hobbyId=f.hobbyId,n.hobbyManager=new c,n.constantsManager=new b,n.hobbyFormDisplay=!1,n.getHobby=function(a,b){n.hobbyManager.getHobby(a,b).success(function(a){n.hobby=a}).error(function(a){console.log(a)})},n.defaultHobbyData={hobbyId:f.hobbyId,privacy:0},n.newHobbyData=angular.copy(n.defaultHobbyData),n.showForm=function(){n.FormDisplay=!0},n.createHobby=function(a){n.hobbyManager.createHobby(a).then(function(a){n.FormDisplay=!1,n.newHobbyData=angular.copy(n.defaultHobbyData),n.hobbyCopy=angular.copy(n.hobbyManager.hobby)},function(a){console.log(a)})},n.editHobby=function(a){n.hobbyManager.editHobby(a).then(function(a){n.FormDisplay=!1,n.newHobbyData=angular.copy(n.defaultHobbyData),n.hobbyCopy=angular.copy(n.hobbyManager.hobby)},function(a){console.log(a)})},n.editHobbySections={details:function(a,b){var c={hobbyId:a,title:b.title,description:b.description};n.editHobby(c)}},n.cancelHobby=function(a){n.FormDisplay=!1,n.newHobbyData=angular.copy(n.defaultHobbyData),a&&(a.$setPristine(),a.$setUntouched())},n.revertHobby=function(a,b){a=b},n.edited=null,d.$watch(angular.bind(this,function(){return n.hobby}),function(){n.doneCount=n.hobbyManager.hobby.length-n.remainingCount,n.allChecked=!n.remainingCount},!0),n.edit=function(a){n.edited=a,n.original=angular.copy(a)},n.doneEditing=function(a){n.edited=null,a.title=a.title.trim(),a.title||n.remove(a)},n.hobbyManager.getHobby(n.hobbyId),n.constantsManager.getIcons(1).then(function(a){n.hobbyIcons=a,n.getRandomHobbyIcons()})}]);