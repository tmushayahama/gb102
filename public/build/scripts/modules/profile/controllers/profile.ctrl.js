var profileCtrl=function(_,ConstantsSrv,ProfileSrv,SearchSrv,UserProfileSectionSrv,ExplorersSrv,localStorageService,$uibModal,$aside,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-profile.css"},$scope),vm.logout=function(){localStorageService.remove("user"),$rootScope.authenticated=!1,$state.go("auth")},vm.profile=[];vm.profileId=$stateParams.profileId,vm.profileSrv=new ProfileSrv,vm.userProfileSectionSrv=new UserProfileSectionSrv,vm.constantsSrv=new ConstantsSrv,vm.explorersSrv=new ExplorersSrv,vm.searchSrv=new SearchSrv,vm.appsExplorers=[],vm.getSearchSuggestions=function(val){var searchData={query:val};return vm.searchSrv.simpleSearchSuggestion(searchData).then(function(response){var results=response.data.map(function(item){return item.title});return vm.suggestions=results,results})},vm.openProfileMenuModal=function(position){var modalInstance=$aside.open({placement:position,templateUrl:"profile-menu-modal.html",controller:"ProfileMenuModalCtrl as menuProfileModalCtrl",size:"menu",scope:$scope});modalInstance.result.then(function(){},function(){})},vm.getProfile=function(id,data){vm.profileSrv.getProfile(id,data).success(function(response){vm.profile=response}).error(function(response){console.log(response)})},vm.profileSrv.getProfile(vm.profileId).then(function(data){vm.userProfileSectionSrv.getUserProfileSection(vm.profileId)}),vm.explorersSrv.getUserExplorers(vm.profileId).then(function(data){vm.appsExplorers=data})};profileCtrl.$inject=["_","ConstantsSrv","ProfileSrv","SearchSrv","UserProfileSectionSrv","ExplorersSrv","localStorageService","$uibModal","$aside","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.profile").controller("ProfileCtrl",profileCtrl);