var profileWeblinksCtrl=function(ProfileWeblinksManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.profileId=$stateParams.profileId,vm.profileWeblinksCopy,vm.profileWeblinksManager=new ProfileWeblinksManager,vm.weblinkFormDisplay=!1,vm.defaultProfileWeblinkData={profileId:$stateParams.profileId,privacy:0},vm.newProfileWeblinkData=angular.copy(vm.defaultProfileWeblinkData),vm.showWeblinkForm=function(){vm.weblinkFormDisplay=!0},vm.createProfileWeblink=function(data){vm.profileWeblinksManager.createProfileWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newProfileWeblinkData=angular.copy(vm.defaultProfileWeblinkData),vm.profileWeblinksCopy=angular.copy(vm.profileWeblinksManager.profileWeblinks)},function(response){console.log(response)})},vm.editProfileWeblink=function(data){vm.profileWeblinksManager.editProfileWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newProfileWeblinkData=angular.copy(vm.defaultProfileWeblinkData),vm.profileWeblinksCopy=angular.copy(vm.profileWeblinksManager.profileWeblinks)},function(response){console.log(response)})},vm.editProfileWeblinkSections={details:function(profileWeblinkId,detail){var profileWeblinkData={profileWeblinkId:profileWeblinkId,title:detail.title,description:detail.description};vm.editProfileWeblink(profileWeblinkData)}},vm.cancelProfileWeblink=function(form){vm.weblinkFormDisplay=!1,vm.newProfileWeblinkData=angular.copy(vm.defaultProfileWeblinkData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertProfileWeblink=function(profileWeblink,profileWeblinkCopy){profileWeblink=profileWeblinkCopy},vm.editedWeblink=null,$scope.$watch(angular.bind(this,function(){return vm.profileWeblinks}),function(){vm.doneCount=vm.profileWeblinksManager.profileWeblinks.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editWeblink=function(profileWeblink){vm.editedWeblink=profileWeblink,vm.originalWeblink=angular.copy(profileWeblink)},vm.doneEditing=function(profileWeblink){vm.editedWeblink=null,profileWeblink.title=profileWeblink.title.trim(),profileWeblink.title||vm.removeWeblink(profileWeblink)},vm.openProfileWeblink=function(profileWeblink){var modalInstance=$uibModal.open({animation:!0,templateUrl:"profile-weblink-modal.html",controller:"ProfileWeblinkCtrl as profileWeblinkCtrl",backdrop:"static",size:"xl",resolve:{profileWeblinkData:function(){return profileWeblink}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.profileWeblinksManager.getProfileWeblinks(vm.profileId)};profileWeblinksCtrl.$inject=["ProfileWeblinksManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.profile").controller("ProfileWeblinksCtrl",profileWeblinksCtrl);