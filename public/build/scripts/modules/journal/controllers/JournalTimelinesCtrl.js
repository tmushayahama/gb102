var journalProgressCtrl=function(JournalProgressSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.journalId=$stateParams.journalId,vm.journalProgressCopy,vm.journalProgressSrv=new JournalProgressSrv,vm.progressFormDisplay=!1,vm.defaultJournalProgressData={journalId:$stateParams.journalId,privacy:0},vm.newJournalProgressData=angular.copy(vm.defaultJournalProgressData),vm.showProgressForm=function(){vm.progressFormDisplay=!0},vm.createJournalProgress=function(data){vm.journalProgressSrv.createJournalProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newJournalProgressData=angular.copy(vm.defaultJournalProgressData),vm.journalProgressCopy=angular.copy(vm.journalProgressSrv.journalProgress)},function(response){console.log(response)})},vm.editJournalProgress=function(data){vm.journalProgressSrv.editJournalProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newJournalProgressData=angular.copy(vm.defaultJournalProgressData),vm.journalProgressCopy=angular.copy(vm.journalProgressSrv.journalProgress)},function(response){console.log(response)})},vm.editJournalProgressSections={details:function(journalProgressId,detail){var journalProgressData={journalProgressId:journalProgressId,title:detail.title,description:detail.description};vm.editJournalProgress(journalProgressData)}},vm.cancelJournalProgress=function(form){vm.progressFormDisplay=!1,vm.newJournalProgressData=angular.copy(vm.defaultJournalProgressData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertJournalProgress=function(journalProgress,journalProgressCopy){journalProgress=journalProgressCopy},vm.editedProgress=null,$scope.$watch(angular.bind(this,function(){return vm.journalProgress}),function(){vm.doneCount=vm.journalProgressSrv.journalProgress.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editProgress=function(journalProgress){vm.editedProgress=journalProgress,vm.originalProgress=angular.copy(journalProgress)},vm.doneEditing=function(journalProgress){vm.editedProgress=null,journalProgress.title=journalProgress.title.trim(),journalProgress.title||vm.removeProgress(journalProgress)},vm.openJournalProgress=function(journalProgress){var modalInstance=$uibModal.open({animation:!0,templateUrl:"journal-progress-modal.html",controller:"JournalProgressCtrl as journalProgressCtrl",backdrop:"static",size:"xl",resolve:{journalProgressData:function(){return journalProgress}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.journalProgressSrv.getJournalProgress(vm.journalId)};journalProgressCtrl.$inject=["JournalProgressSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.journal").controller("JournalProgressCtrl",journalProgressCtrl);