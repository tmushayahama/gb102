var journalsCtrl=function(level_categories,ConstantsManager,SearchManager,JournalsManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-journal.css"},$scope),vm.journalsManager=new JournalsManager,vm.constantsManager=new ConstantsManager,$rootScope.appName="JOURNALR",vm.journalLevels,vm.journalTypes,$scope.superhero={selected:"Batman"},$scope.$watch("superhero.selected",function(newVal,oldVal){}),vm.createJournal=function(data){vm.journalsManager.createJournal(data).then(function(response){vm.FormDisplay=!1,vm.newJournalData=angular.copy(vm.defaultJournalData),vm.journalsCopy=angular.copy(vm.journalsManager.journals)},function(response){console.log(response)})},vm.editJournal=function(data){vm.journalsManager.editJournal(data).then(function(response){vm.FormDisplay=!1,vm.newJournalData=angular.copy(vm.defaultJournalData),vm.journalsCopy=angular.copy(vm.journalsManager.journals)},function(response){console.log(response)})},vm.editJournalSections={details:function(journalId,detail){var journalData={journalId:journalId,title:detail.title,description:detail.description};vm.editJournal(journalData)}},vm.cancelJournal=function(form){vm.FormDisplay=!1,vm.newJournalData=angular.copy(vm.defaultJournalData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertJournal=function(journal,journalCopy){journal=journalCopy},vm.edited=null,$scope.$watch(angular.bind(this,function(){return vm.journals}),function(){vm.doneCount=vm.journalsManager.journals.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.edit=function(journal){vm.edited=journal,vm.original=angular.copy(journal)},vm.doneEditing=function(journal){vm.edited=null,journal.title=journal.title.trim(),journal.title||vm.remove(journal)},$rootScope.openAddExploreModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"create-journal-modal.html",controller:"CreateJournalCtrl as createJournalCtrl",backdrop:"static",size:"xl",resolve:{journalTypes:function(){return vm.journalTypes}}});modalInstance.result.then(function(journal){vm.journalsManager.createJournal(journal)},function(){$log.info("Modal dismissed at: "+new Date)})},vm.constantsManager.getLevel(level_categories.journal).then(function(data){vm.journalTypes=data}),vm.constantsManager.getLevel(level_categories.journal).then(function(data){vm.journalLevels=data})};journalsCtrl.$inject=["level_categories","ConstantsManager","SearchManager","JournalsManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.journal").controller("JournalsCtrl",journalsCtrl);