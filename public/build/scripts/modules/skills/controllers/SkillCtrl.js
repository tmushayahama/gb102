angular.module("app.skills").controller("SkillCtrl",["_","ConstantsManager","SkillManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;m.bind({href:"public/css/gb-sass/stylesheets/gb-themes/app-theme-1.css"},d),n.skill=[];n.range=function(b,c){return a.range(b,c)},n.skillIcons=[],n.skillIconsArray=[];var o=function(a,b){return Math.floor(Math.random()*b+a)};n.getRandomSkillIcons=function(){for(var a=0;5>a;a++){for(var b=[],c=0;c<n.skillIcons.length;c++){var d=o(0,n.skillIcons.length);b.push(n.skillIcons[d].name)}n.skillIconsArray.push(b)}},n.skillId=f.skillId,n.skillManager=new c,n.constantsManager=new b,n.skillFormDisplay=!1,n.getSkill=function(a,b){n.skillManager.getSkill(a,b).success(function(a){n.skill=a}).error(function(a){console.log(a)})},n.defaultSkillData={skillId:f.skillId,privacy:0},n.newSkillData=angular.copy(n.defaultSkillData),n.showForm=function(){n.FormDisplay=!0},n.createSkill=function(a){n.skillManager.createSkill(a).then(function(a){n.FormDisplay=!1,n.newSkillData=angular.copy(n.defaultSkillData),n.skillCopy=angular.copy(n.skillManager.skill)},function(a){console.log(a)})},n.editSkill=function(a){n.skillManager.editSkill(a).then(function(a){n.FormDisplay=!1,n.newSkillData=angular.copy(n.defaultSkillData),n.skillCopy=angular.copy(n.skillManager.skill)},function(a){console.log(a)})},n.editSkillSections={details:function(a,b){var c={skillId:a,title:b.title,description:b.description};n.editSkill(c)}},n.cancelSkill=function(a){n.FormDisplay=!1,n.newSkillData=angular.copy(n.defaultSkillData),a&&(a.$setPristine(),a.$setUntouched())},n.revertSkill=function(a,b){a=b},n.edited=null,d.$watch(angular.bind(this,function(){return n.skill}),function(){n.doneCount=n.skillManager.skill.length-n.remainingCount,n.allChecked=!n.remainingCount},!0),n.edit=function(a){n.edited=a,n.original=angular.copy(a)},n.doneEditing=function(a){n.edited=null,a.title=a.title.trim(),a.title||n.remove(a)},n.skillManager.getSkill(n.skillId),n.constantsManager.getIcons(1).then(function(a){n.skillIcons=a,n.getRandomSkillIcons()})}]);