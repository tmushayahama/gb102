var explorerActivitiesCtrl=function(ExplorerActivitiesSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.explorerId=$stateParams.explorerId,vm.explorerActivitiesCopy,vm.explorerActivitiesSrv=new ExplorerActivitiesSrv,vm.activityFormDisplay=!1,vm.defaultExplorerActivityData={explorerId:$stateParams.explorerId,privacy:0},vm.newExplorerActivityData=angular.copy(vm.defaultExplorerActivityData),vm.showActivityForm=function(){vm.activityFormDisplay=!0},vm.createExplorerActivity=function(data){vm.explorerActivitiesSrv.createExplorerActivity(data).then(function(response){vm.activityFormDisplay=!1,vm.newExplorerActivityData=angular.copy(vm.defaultExplorerActivityData),vm.explorerActivitiesCopy=angular.copy(vm.explorerActivitiesSrv.explorerActivities)},function(response){console.log(response)})},vm.editExplorerActivity=function(data){vm.explorerActivitiesSrv.editExplorerActivity(data).then(function(response){vm.activityFormDisplay=!1,vm.newExplorerActivityData=angular.copy(vm.defaultExplorerActivityData),vm.explorerActivitiesCopy=angular.copy(vm.explorerActivitiesSrv.explorerActivities)},function(response){console.log(response)})},vm.editExplorerActivitySections={details:function(explorerActivityId,detail){var explorerActivityData={explorerActivityId:explorerActivityId,title:detail.title,description:detail.description};vm.editExplorerActivity(explorerActivityData)}},vm.cancelExplorerActivity=function(form){vm.activityFormDisplay=!1,vm.newExplorerActivityData=angular.copy(vm.defaultExplorerActivityData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertExplorerActivity=function(explorerActivity,explorerActivityCopy){explorerActivity=explorerActivityCopy},vm.editedActivity=null,$scope.$watch(angular.bind(this,function(){return vm.explorerActivities}),function(){vm.doneCount=vm.explorerActivitiesSrv.explorerActivities.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editActivity=function(explorerActivity){vm.editedActivity=explorerActivity,vm.originalActivity=angular.copy(explorerActivity)},vm.doneEditing=function(explorerActivity){vm.editedActivity=null,explorerActivity.title=explorerActivity.title.trim(),explorerActivity.title||vm.removeActivity(explorerActivity)},vm.openExplorerActivity=function(explorerActivity){var modalInstance=$uibModal.open({animation:!0,templateUrl:"explorer-activity-modal.html",controller:"ExplorerActivityCtrl as explorerActivityCtrl",backdrop:"static",size:"xl",resolve:{explorerActivityData:function(){return explorerActivity}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.explorerActivitiesSrv.getExplorerActivities(vm.explorerId)};explorerActivitiesCtrl.$inject=["ExplorerActivitiesSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.explorer").controller("ExplorerActivitiesCtrl",explorerActivitiesCtrl);