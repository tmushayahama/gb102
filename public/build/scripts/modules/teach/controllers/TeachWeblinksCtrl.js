var teachWeblinksCtrl=function(TeachWeblinksSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.teachId=$stateParams.teachId,vm.teachWeblinksCopy,vm.teachWeblinksSrv=new TeachWeblinksSrv,vm.weblinkFormDisplay=!1,vm.defaultTeachWeblinkData={teachId:$stateParams.teachId,privacy:0},vm.newTeachWeblinkData=angular.copy(vm.defaultTeachWeblinkData),vm.showWeblinkForm=function(){vm.weblinkFormDisplay=!0},vm.createTeachWeblink=function(data){vm.teachWeblinksSrv.createTeachWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newTeachWeblinkData=angular.copy(vm.defaultTeachWeblinkData),vm.teachWeblinksCopy=angular.copy(vm.teachWeblinksSrv.teachWeblinks)},function(response){console.log(response)})},vm.editTeachWeblink=function(data){vm.teachWeblinksSrv.editTeachWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newTeachWeblinkData=angular.copy(vm.defaultTeachWeblinkData),vm.teachWeblinksCopy=angular.copy(vm.teachWeblinksSrv.teachWeblinks)},function(response){console.log(response)})},vm.editTeachWeblinkSections={details:function(teachWeblinkId,detail){var teachWeblinkData={teachWeblinkId:teachWeblinkId,title:detail.title,description:detail.description};vm.editTeachWeblink(teachWeblinkData)}},vm.cancelTeachWeblink=function(form){vm.weblinkFormDisplay=!1,vm.newTeachWeblinkData=angular.copy(vm.defaultTeachWeblinkData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertTeachWeblink=function(teachWeblink,teachWeblinkCopy){teachWeblink=teachWeblinkCopy},vm.editedWeblink=null,$scope.$watch(angular.bind(this,function(){return vm.teachWeblinks}),function(){vm.doneCount=vm.teachWeblinksSrv.teachWeblinks.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editWeblink=function(teachWeblink){vm.editedWeblink=teachWeblink,vm.originalWeblink=angular.copy(teachWeblink)},vm.doneEditing=function(teachWeblink){vm.editedWeblink=null,teachWeblink.title=teachWeblink.title.trim(),teachWeblink.title||vm.removeWeblink(teachWeblink)},vm.openTeachWeblink=function(teachWeblink){var modalInstance=$uibModal.open({animation:!0,templateUrl:"teach-weblink-modal.html",controller:"TeachWeblinkCtrl as teachWeblinkCtrl",backdrop:"static",size:"xl",resolve:{teachWeblinkData:function(){return teachWeblink}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.teachWeblinksSrv.getTeachWeblinks(vm.teachId)};teachWeblinksCtrl.$inject=["TeachWeblinksSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.teach").controller("TeachWeblinksCtrl",teachWeblinksCtrl);