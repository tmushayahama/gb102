angular.module("app.mentorships").controller("MentorshipCtrl",["_","ConstantsManager","MentorshipManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;m.bind({href:"public/css/gb-sass/stylesheets/gb-themes/app-theme-5.css"},d),n.mentorship=[];n.range=function(b,c){return a.range(b,c)},n.mentorshipIcons=[],n.mentorshipIconsArray=[];var o=function(a,b){return Math.floor(Math.random()*b+a)};n.getRandomMentorshipIcons=function(){for(var a=0;5>a;a++){for(var b=[],c=0;c<n.mentorshipIcons.length;c++){var d=o(0,n.mentorshipIcons.length);b.push(n.mentorshipIcons[d].name)}n.mentorshipIconsArray.push(b)}},n.mentorshipId=f.mentorshipId,n.mentorshipManager=new c,n.constantsManager=new b,n.mentorshipFormDisplay=!1,n.getMentorship=function(a,b){n.mentorshipManager.getMentorship(a,b).success(function(a){n.mentorship=a}).error(function(a){console.log(a)})},n.defaultMentorshipData={mentorshipId:f.mentorshipId,privacy:0},n.newMentorshipData=angular.copy(n.defaultMentorshipData),n.showForm=function(){n.FormDisplay=!0},n.createMentorship=function(a){n.mentorshipManager.createMentorship(a).then(function(a){n.FormDisplay=!1,n.newMentorshipData=angular.copy(n.defaultMentorshipData),n.mentorshipCopy=angular.copy(n.mentorshipManager.mentorship)},function(a){console.log(a)})},n.editMentorship=function(a){n.mentorshipManager.editMentorship(a).then(function(a){n.FormDisplay=!1,n.newMentorshipData=angular.copy(n.defaultMentorshipData),n.mentorshipCopy=angular.copy(n.mentorshipManager.mentorship)},function(a){console.log(a)})},n.editMentorshipSections={details:function(a,b){var c={mentorshipId:a,title:b.title,description:b.description};n.editMentorship(c)}},n.cancelMentorship=function(a){n.FormDisplay=!1,n.newMentorshipData=angular.copy(n.defaultMentorshipData),a&&(a.$setPristine(),a.$setUntouched())},n.revertMentorship=function(a,b){a=b},n.edited=null,d.$watch(angular.bind(this,function(){return n.mentorship}),function(){n.doneCount=n.mentorshipManager.mentorship.length-n.remainingCount,n.allChecked=!n.remainingCount},!0),n.edit=function(a){n.edited=a,n.original=angular.copy(a)},n.doneEditing=function(a){n.edited=null,a.title=a.title.trim(),a.title||n.remove(a)},n.mentorshipManager.getMentorship(n.mentorshipId),n.constantsManager.getIcons(1).then(function(a){n.mentorshipIcons=a,n.getRandomMentorshipIcons()})}]);