angular.module("app.mentorships").controller("MentorshipWeblinksCtrl",["MentorshipWeblinksManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter",function(a,b,c,d,e,f,g,h,i,j){var k=this;k.mentorshipId=d.mentorshipId,k.mentorshipWeblinksCopy,k.mentorshipWeblinksManager=new a,k.weblinkFormDisplay=!1,k.defaultMentorshipWeblinkData={mentorshipId:d.mentorshipId,privacy:0},k.newMentorshipWeblinkData=angular.copy(k.defaultMentorshipWeblinkData),k.showWeblinkForm=function(){k.weblinkFormDisplay=!0},k.createMentorshipWeblink=function(a){k.mentorshipWeblinksManager.createMentorshipWeblink(a).then(function(a){k.weblinkFormDisplay=!1,k.newMentorshipWeblinkData=angular.copy(k.defaultMentorshipWeblinkData),k.mentorshipWeblinksCopy=angular.copy(k.mentorshipWeblinksManager.mentorshipWeblinks)},function(a){console.log(a)})},k.editMentorshipWeblink=function(a){k.mentorshipWeblinksManager.editMentorshipWeblink(a).then(function(a){k.weblinkFormDisplay=!1,k.newMentorshipWeblinkData=angular.copy(k.defaultMentorshipWeblinkData),k.mentorshipWeblinksCopy=angular.copy(k.mentorshipWeblinksManager.mentorshipWeblinks)},function(a){console.log(a)})},k.editMentorshipWeblinkSections={details:function(a,b){var c={mentorshipWeblinkId:a,title:b.title,description:b.description};k.editMentorshipWeblink(c)}},k.cancelMentorshipWeblink=function(a){k.weblinkFormDisplay=!1,k.newMentorshipWeblinkData=angular.copy(k.defaultMentorshipWeblinkData),a&&(a.$setPristine(),a.$setUntouched())},k.revertMentorshipWeblink=function(a,b){a=b},k.editedWeblink=null,b.$watch(angular.bind(this,function(){return k.mentorshipWeblinks}),function(){k.doneCount=k.mentorshipWeblinksManager.mentorshipWeblinks.length-k.remainingCount,k.allChecked=!k.remainingCount},!0),k.editWeblink=function(a){k.editedWeblink=a,k.originalWeblink=angular.copy(a)},k.doneEditing=function(a){k.editedWeblink=null,a.title=a.title.trim(),a.title||k.removeWeblink(a)},k.openMentorshipWeblink=function(a){var c=h.open({animation:!0,templateUrl:"mentorship-weblink-modal.html",controller:"MentorshipWeblinkCtrl as mentorshipWeblinkCtrl",backdrop:"static",size:"xl",resolve:{mentorshipWeblinkData:function(){return a}}});c.result.then(function(a){b.selected=a},function(){i.info("Modal dismissed at: "+new Date)})},k.mentorshipWeblinksManager.getMentorshipWeblinks(k.mentorshipId)}]);