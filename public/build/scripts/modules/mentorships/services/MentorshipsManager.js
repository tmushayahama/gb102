angular.module("app.mentorships").service("MentorshipsManager",["$http","$q",function(a,b){var c=function(){this.mentorships=[]};return c.prototype.deferredHandler=function(a,b,c){return a&&"object"==typeof a||(this.error="Error"),!this.error&&a.result&&a.result.error&&(this.error=a.result.error),!this.error&&a.error&&(this.error=a.error.message),!this.error&&c&&(this.error=c),this.error?b.reject(a):b.resolve(a)},c.prototype.getAllMentorships=function(){var c=this,d=b.defer();return c.mentorships=[],a.get("/api/mentorships/all").success(function(a){c.mentorships=a,c.deferredHandler(a,d)}).error(function(a){c.deferredHandler(a,d,"Unknown error")}),d.promise},c.prototype.getMyMentorships=function(){var c=this,d=b.defer();return c.mentorships=[],a.get("/api/mentorships/mine").success(function(a){c.mentorships=a,c.deferredHandler(a,d)}).error(function(a){c.deferredHandler(a,d,"Unknown error")}),d.promise},c.prototype.getMentorship=function(c,d){var e=this,f=b.defer();return e.mentorship=[],a.get("/api/mentorship/"+c+"//"+d).success(function(a){e.mentorship=a,e.deferredHandler(a,f)}).error(function(a){e.deferredHandler(a,f,"Unknown error")}),f.promise},c.prototype.createMentorship=function(c){var d=this,e=b.defer();return a({method:"POST",url:"/api/mentorship/create",data:c}).success(function(a){d.mentorships.unshift(a),d.deferredHandler(a,e)}).error(function(a){d.deferredHandler(a,e,"Unknown error")}),e.promise},c.prototype.editMentorship=function(c){var d=this,e=b.defer();return a({method:"POST",url:"/api/mentorshipedit",data:c}).success(function(a){d.deferredHandler(a,e)}).error(function(a){d.deferredHandler(a,e,"Unknown error")}),e.promise},c}]);