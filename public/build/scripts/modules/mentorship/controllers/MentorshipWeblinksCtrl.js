var mentorshipWeblinksCtrl=function(MentorshipWeblinksSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.mentorshipId=$stateParams.mentorshipId,vm.mentorshipWeblinksCopy,vm.mentorshipWeblinksSrv=new MentorshipWeblinksSrv,vm.weblinkFormDisplay=!1,vm.defaultMentorshipWeblinkData={mentorshipId:$stateParams.mentorshipId,privacy:0},vm.newMentorshipWeblinkData=angular.copy(vm.defaultMentorshipWeblinkData),vm.showWeblinkForm=function(){vm.weblinkFormDisplay=!0},vm.createMentorshipWeblink=function(data){vm.mentorshipWeblinksSrv.createMentorshipWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newMentorshipWeblinkData=angular.copy(vm.defaultMentorshipWeblinkData),vm.mentorshipWeblinksCopy=angular.copy(vm.mentorshipWeblinksSrv.mentorshipWeblinks)},function(response){console.log(response)})},vm.editMentorshipWeblink=function(data){vm.mentorshipWeblinksSrv.editMentorshipWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newMentorshipWeblinkData=angular.copy(vm.defaultMentorshipWeblinkData),vm.mentorshipWeblinksCopy=angular.copy(vm.mentorshipWeblinksSrv.mentorshipWeblinks)},function(response){console.log(response)})},vm.editMentorshipWeblinkSections={details:function(mentorshipWeblinkId,detail){var mentorshipWeblinkData={mentorshipWeblinkId:mentorshipWeblinkId,title:detail.title,description:detail.description};vm.editMentorshipWeblink(mentorshipWeblinkData)}},vm.cancelMentorshipWeblink=function(form){vm.weblinkFormDisplay=!1,vm.newMentorshipWeblinkData=angular.copy(vm.defaultMentorshipWeblinkData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertMentorshipWeblink=function(mentorshipWeblink,mentorshipWeblinkCopy){mentorshipWeblink=mentorshipWeblinkCopy},vm.editedWeblink=null,$scope.$watch(angular.bind(this,function(){return vm.mentorshipWeblinks}),function(){vm.doneCount=vm.mentorshipWeblinksSrv.mentorshipWeblinks.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editWeblink=function(mentorshipWeblink){vm.editedWeblink=mentorshipWeblink,vm.originalWeblink=angular.copy(mentorshipWeblink)},vm.doneEditing=function(mentorshipWeblink){vm.editedWeblink=null,mentorshipWeblink.title=mentorshipWeblink.title.trim(),mentorshipWeblink.title||vm.removeWeblink(mentorshipWeblink)},vm.openMentorshipWeblink=function(mentorshipWeblink){var modalInstance=$uibModal.open({animation:!0,templateUrl:"mentorship-weblink-modal.html",controller:"MentorshipWeblinkCtrl as mentorshipWeblinkCtrl",backdrop:"static",size:"xl",resolve:{mentorshipWeblinkData:function(){return mentorshipWeblink}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.mentorshipWeblinksSrv.getMentorshipWeblinks(vm.mentorshipId)};mentorshipWeblinksCtrl.$inject=["MentorshipWeblinksSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.mentorship").controller("MentorshipWeblinksCtrl",mentorshipWeblinksCtrl);