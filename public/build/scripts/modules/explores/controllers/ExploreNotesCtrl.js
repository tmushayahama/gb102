var exploreNotesCtrl=function(ExploreNotesManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.exploreId=$stateParams.exploreId,vm.exploreNotesCopy,vm.exploreNotesManager=new ExploreNotesManager,vm.noteFormDisplay=!1,vm.defaultExploreNoteData={exploreId:$stateParams.exploreId,privacy:0},vm.newExploreNoteData=angular.copy(vm.defaultExploreNoteData),vm.showNoteForm=function(){vm.noteFormDisplay=!0},vm.createExploreNote=function(data){vm.exploreNotesManager.createExploreNote(data).then(function(response){vm.noteFormDisplay=!1,vm.newExploreNoteData=angular.copy(vm.defaultExploreNoteData),vm.exploreNotesCopy=angular.copy(vm.exploreNotesManager.exploreNotes)},function(response){console.log(response)})},vm.editExploreNote=function(data){vm.exploreNotesManager.editExploreNote(data).then(function(response){vm.noteFormDisplay=!1,vm.newExploreNoteData=angular.copy(vm.defaultExploreNoteData),vm.exploreNotesCopy=angular.copy(vm.exploreNotesManager.exploreNotes)},function(response){console.log(response)})},vm.editExploreNoteSections={details:function(exploreNoteId,detail){var exploreNoteData={exploreNoteId:exploreNoteId,title:detail.title,description:detail.description};vm.editExploreNote(exploreNoteData)}},vm.cancelExploreNote=function(form){vm.noteFormDisplay=!1,vm.newExploreNoteData=angular.copy(vm.defaultExploreNoteData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertExploreNote=function(exploreNote,exploreNoteCopy){exploreNote=exploreNoteCopy},vm.editedNote=null,$scope.$watch(angular.bind(this,function(){return vm.exploreNotes}),function(){vm.doneCount=vm.exploreNotesManager.exploreNotes.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editNote=function(exploreNote){vm.editedNote=exploreNote,vm.originalNote=angular.copy(exploreNote)},vm.doneEditing=function(exploreNote){vm.editedNote=null,exploreNote.title=exploreNote.title.trim(),exploreNote.title||vm.removeNote(exploreNote)},vm.openExploreNote=function(exploreNote){var modalInstance=$uibModal.open({animation:!0,templateUrl:"explore-note-modal.html",controller:"ExploreNoteCtrl as exploreNoteCtrl",backdrop:"static",size:"xl",resolve:{exploreNoteData:function(){return exploreNote}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.exploreNotesManager.getExploreNotes(vm.exploreId)};exploreNotesCtrl.$inject=["ExploreNotesManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.explores").controller("ExploreNotesCtrl",exploreNotesCtrl);