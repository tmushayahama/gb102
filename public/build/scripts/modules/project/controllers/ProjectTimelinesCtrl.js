var projectProgressCtrl=function(ProjectProgressManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.projectId=$stateParams.projectId,vm.projectProgressCopy,vm.projectProgressManager=new ProjectProgressManager,vm.progressFormDisplay=!1,vm.defaultProjectProgressData={projectId:$stateParams.projectId,privacy:0},vm.newProjectProgressData=angular.copy(vm.defaultProjectProgressData),vm.showProgressForm=function(){vm.progressFormDisplay=!0},vm.createProjectProgress=function(data){vm.projectProgressManager.createProjectProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newProjectProgressData=angular.copy(vm.defaultProjectProgressData),vm.projectProgressCopy=angular.copy(vm.projectProgressManager.projectProgress)},function(response){console.log(response)})},vm.editProjectProgress=function(data){vm.projectProgressManager.editProjectProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newProjectProgressData=angular.copy(vm.defaultProjectProgressData),vm.projectProgressCopy=angular.copy(vm.projectProgressManager.projectProgress)},function(response){console.log(response)})},vm.editProjectProgressSections={details:function(projectProgressId,detail){var projectProgressData={projectProgressId:projectProgressId,title:detail.title,description:detail.description};vm.editProjectProgress(projectProgressData)}},vm.cancelProjectProgress=function(form){vm.progressFormDisplay=!1,vm.newProjectProgressData=angular.copy(vm.defaultProjectProgressData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertProjectProgress=function(projectProgress,projectProgressCopy){projectProgress=projectProgressCopy},vm.editedProgress=null,$scope.$watch(angular.bind(this,function(){return vm.projectProgress}),function(){vm.doneCount=vm.projectProgressManager.projectProgress.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editProgress=function(projectProgress){vm.editedProgress=projectProgress,vm.originalProgress=angular.copy(projectProgress)},vm.doneEditing=function(projectProgress){vm.editedProgress=null,projectProgress.title=projectProgress.title.trim(),projectProgress.title||vm.removeProgress(projectProgress)},vm.openProjectProgress=function(projectProgress){var modalInstance=$uibModal.open({animation:!0,templateUrl:"project-progress-modal.html",controller:"ProjectProgressCtrl as projectProgressCtrl",backdrop:"static",size:"xl",resolve:{projectProgressData:function(){return projectProgress}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.projectProgressManager.getProjectProgress(vm.projectId)};projectProgressCtrl.$inject=["ProjectProgressManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.project").controller("ProjectProgressCtrl",projectProgressCtrl);