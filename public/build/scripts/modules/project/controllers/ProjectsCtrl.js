var projectsCtrl=function(level_categories,ConstantsManager,SearchManager,ProjectsManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-project.css"},$scope),vm.projectsManager=new ProjectsManager,vm.constantsManager=new ConstantsManager,$rootScope.appName="PROJECTR",vm.projectLevels,vm.projectTypes,$scope.superhero={selected:"Batman"},$scope.$watch("superhero.selected",function(newVal,oldVal){}),vm.createProject=function(data){vm.projectsManager.createProject(data).then(function(response){vm.FormDisplay=!1,vm.newProjectData=angular.copy(vm.defaultProjectData),vm.projectsCopy=angular.copy(vm.projectsManager.projects)},function(response){console.log(response)})},vm.editProject=function(data){vm.projectsManager.editProject(data).then(function(response){vm.FormDisplay=!1,vm.newProjectData=angular.copy(vm.defaultProjectData),vm.projectsCopy=angular.copy(vm.projectsManager.projects)},function(response){console.log(response)})},vm.editProjectSections={details:function(projectId,detail){var projectData={projectId:projectId,title:detail.title,description:detail.description};vm.editProject(projectData)}},vm.cancelProject=function(form){vm.FormDisplay=!1,vm.newProjectData=angular.copy(vm.defaultProjectData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertProject=function(project,projectCopy){project=projectCopy},vm.edited=null,$scope.$watch(angular.bind(this,function(){return vm.projects}),function(){vm.doneCount=vm.projectsManager.projects.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.edit=function(project){vm.edited=project,vm.original=angular.copy(project)},vm.doneEditing=function(project){vm.edited=null,project.title=project.title.trim(),project.title||vm.remove(project)},$rootScope.openAddExplorerModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"create-project-modal.html",controller:"CreateProjectCtrl as createProjectCtrl",backdrop:"static",size:"xl",resolve:{projectTypes:function(){return vm.projectTypes}}});modalInstance.result.then(function(project){vm.projectsManager.createProject(project)},function(){$log.info("Modal dismissed at: "+new Date)})},vm.constantsManager.getLevel(level_categories.project).then(function(data){vm.projectTypes=data}),vm.constantsManager.getLevel(level_categories.project).then(function(data){vm.projectLevels=data})};projectsCtrl.$inject=["level_categories","ConstantsManager","SearchManager","ProjectsManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.project").controller("ProjectsCtrl",projectsCtrl);