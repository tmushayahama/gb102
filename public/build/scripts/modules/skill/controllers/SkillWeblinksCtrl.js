var skillWeblinksCtrl=function(SkillWeblinksSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.skillId=$stateParams.skillId,vm.skillWeblinksCopy,vm.skillWeblinksSrv=new SkillWeblinksSrv,vm.weblinkFormDisplay=!1,vm.defaultSkillWeblinkData={skillId:$stateParams.skillId,privacy:0},vm.newSkillWeblinkData=angular.copy(vm.defaultSkillWeblinkData),vm.showWeblinkForm=function(){vm.weblinkFormDisplay=!0},vm.createSkillWeblink=function(data){vm.skillWeblinksSrv.createSkillWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newSkillWeblinkData=angular.copy(vm.defaultSkillWeblinkData),vm.skillWeblinksCopy=angular.copy(vm.skillWeblinksSrv.skillWeblinks)},function(response){console.log(response)})},vm.editSkillWeblink=function(data){vm.skillWeblinksSrv.editSkillWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newSkillWeblinkData=angular.copy(vm.defaultSkillWeblinkData),vm.skillWeblinksCopy=angular.copy(vm.skillWeblinksSrv.skillWeblinks)},function(response){console.log(response)})},vm.editSkillWeblinkSections={details:function(skillWeblinkId,detail){var skillWeblinkData={skillWeblinkId:skillWeblinkId,title:detail.title,description:detail.description};vm.editSkillWeblink(skillWeblinkData)}},vm.cancelSkillWeblink=function(form){vm.weblinkFormDisplay=!1,vm.newSkillWeblinkData=angular.copy(vm.defaultSkillWeblinkData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertSkillWeblink=function(skillWeblink,skillWeblinkCopy){skillWeblink=skillWeblinkCopy},vm.editedWeblink=null,$scope.$watch(angular.bind(this,function(){return vm.skillWeblinks}),function(){vm.doneCount=vm.skillWeblinksSrv.skillWeblinks.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editWeblink=function(skillWeblink){vm.editedWeblink=skillWeblink,vm.originalWeblink=angular.copy(skillWeblink)},vm.doneEditing=function(skillWeblink){vm.editedWeblink=null,skillWeblink.title=skillWeblink.title.trim(),skillWeblink.title||vm.removeWeblink(skillWeblink)},vm.openSkillWeblink=function(skillWeblink){var modalInstance=$uibModal.open({animation:!0,templateUrl:"skill-weblink-modal.html",controller:"SkillWeblinkCtrl as skillWeblinkCtrl",backdrop:"static",size:"xl",resolve:{skillWeblinkData:function(){return skillWeblink}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.skillWeblinksSrv.getSkillWeblinks(vm.skillId)};skillWeblinksCtrl.$inject=["SkillWeblinksSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.skills").controller("SkillWeblinksCtrl",skillWeblinksCtrl);