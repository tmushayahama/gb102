var skillCommentsCtrl=function(SkillCommentsSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.skillId=$stateParams.skillId,vm.skillCommentsCopy,vm.skillCommentsSrv=new SkillCommentsSrv,vm.commentFormDisplay=!1,vm.defaultSkillCommentData={skillId:$stateParams.skillId,privacy:0},vm.newSkillCommentData=angular.copy(vm.defaultSkillCommentData),vm.showCommentForm=function(){vm.commentFormDisplay=!0},vm.createSkillComment=function(data){vm.skillCommentsSrv.createSkillComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newSkillCommentData=angular.copy(vm.defaultSkillCommentData),vm.skillCommentsCopy=angular.copy(vm.skillCommentsSrv.skillComments)},function(response){console.log(response)})},vm.editSkillComment=function(data){vm.skillCommentsSrv.editSkillComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newSkillCommentData=angular.copy(vm.defaultSkillCommentData),vm.skillCommentsCopy=angular.copy(vm.skillCommentsSrv.skillComments)},function(response){console.log(response)})},vm.editSkillCommentSections={details:function(skillCommentId,detail){var skillCommentData={skillCommentId:skillCommentId,title:detail.title,description:detail.description};vm.editSkillComment(skillCommentData)}},vm.cancelSkillComment=function(form){vm.commentFormDisplay=!1,vm.newSkillCommentData=angular.copy(vm.defaultSkillCommentData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertSkillComment=function(skillComment,skillCommentCopy){skillComment=skillCommentCopy},vm.editedComment=null,$scope.$watch(angular.bind(this,function(){return vm.skillComments}),function(){vm.doneCount=vm.skillCommentsSrv.skillComments.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editComment=function(skillComment){vm.editedComment=skillComment,vm.originalComment=angular.copy(skillComment)},vm.doneEditing=function(skillComment){vm.editedComment=null,skillComment.title=skillComment.title.trim(),skillComment.title||vm.removeComment(skillComment)},vm.openSkillComment=function(skillComment){var modalInstance=$uibModal.open({animation:!0,templateUrl:"skill-comment-modal.html",controller:"SkillCommentCtrl as skillCommentCtrl",backdrop:"static",size:"xl",resolve:{skillCommentData:function(){return skillComment}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.skillCommentsSrv.getSkillComments(vm.skillId)};skillCommentsCtrl.$inject=["SkillCommentsSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.skills").controller("SkillCommentsCtrl",skillCommentsCtrl);