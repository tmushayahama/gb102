var exploreCommentsCtrl=function(ExploreCommentsManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.exploreId=$stateParams.exploreId,vm.exploreCommentsCopy,vm.exploreCommentsManager=new ExploreCommentsManager,vm.commentFormDisplay=!1,vm.defaultExploreCommentData={exploreId:$stateParams.exploreId,privacy:0},vm.newExploreCommentData=angular.copy(vm.defaultExploreCommentData),vm.showCommentForm=function(){vm.commentFormDisplay=!0},vm.createExploreComment=function(data){vm.exploreCommentsManager.createExploreComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newExploreCommentData=angular.copy(vm.defaultExploreCommentData),vm.exploreCommentsCopy=angular.copy(vm.exploreCommentsManager.exploreComments)},function(response){console.log(response)})},vm.editExploreComment=function(data){vm.exploreCommentsManager.editExploreComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newExploreCommentData=angular.copy(vm.defaultExploreCommentData),vm.exploreCommentsCopy=angular.copy(vm.exploreCommentsManager.exploreComments)},function(response){console.log(response)})},vm.editExploreCommentSections={details:function(exploreCommentId,detail){var exploreCommentData={exploreCommentId:exploreCommentId,title:detail.title,description:detail.description};vm.editExploreComment(exploreCommentData)}},vm.cancelExploreComment=function(form){vm.commentFormDisplay=!1,vm.newExploreCommentData=angular.copy(vm.defaultExploreCommentData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertExploreComment=function(exploreComment,exploreCommentCopy){exploreComment=exploreCommentCopy},vm.editedComment=null,$scope.$watch(angular.bind(this,function(){return vm.exploreComments}),function(){vm.doneCount=vm.exploreCommentsManager.exploreComments.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editComment=function(exploreComment){vm.editedComment=exploreComment,vm.originalComment=angular.copy(exploreComment)},vm.doneEditing=function(exploreComment){vm.editedComment=null,exploreComment.title=exploreComment.title.trim(),exploreComment.title||vm.removeComment(exploreComment)},vm.openExploreComment=function(exploreComment){var modalInstance=$uibModal.open({animation:!0,templateUrl:"explore-comment-modal.html",controller:"ExploreCommentCtrl as exploreCommentCtrl",backdrop:"static",size:"xl",resolve:{exploreCommentData:function(){return exploreComment}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.exploreCommentsManager.getExploreComments(vm.exploreId)};exploreCommentsCtrl.$inject=["ExploreCommentsManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.explore").controller("ExploreCommentsCtrl",exploreCommentsCtrl);