var explorerCommentsCtrl=function(ExplorerCommentsManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.explorerId=$stateParams.explorerId,vm.explorerCommentsCopy,vm.explorerCommentsManager=new ExplorerCommentsManager,vm.commentFormDisplay=!1,vm.defaultExplorerCommentData={explorerId:$stateParams.explorerId,privacy:0},vm.newExplorerCommentData=angular.copy(vm.defaultExplorerCommentData),vm.showCommentForm=function(){vm.commentFormDisplay=!0},vm.createExplorerComment=function(data){vm.explorerCommentsManager.createExplorerComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newExplorerCommentData=angular.copy(vm.defaultExplorerCommentData),vm.explorerCommentsCopy=angular.copy(vm.explorerCommentsManager.explorerComments)},function(response){console.log(response)})},vm.editExplorerComment=function(data){vm.explorerCommentsManager.editExplorerComment(data).then(function(response){vm.commentFormDisplay=!1,vm.newExplorerCommentData=angular.copy(vm.defaultExplorerCommentData),vm.explorerCommentsCopy=angular.copy(vm.explorerCommentsManager.explorerComments)},function(response){console.log(response)})},vm.editExplorerCommentSections={details:function(explorerCommentId,detail){var explorerCommentData={explorerCommentId:explorerCommentId,title:detail.title,description:detail.description};vm.editExplorerComment(explorerCommentData)}},vm.cancelExplorerComment=function(form){vm.commentFormDisplay=!1,vm.newExplorerCommentData=angular.copy(vm.defaultExplorerCommentData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertExplorerComment=function(explorerComment,explorerCommentCopy){explorerComment=explorerCommentCopy},vm.editedComment=null,$scope.$watch(angular.bind(this,function(){return vm.explorerComments}),function(){vm.doneCount=vm.explorerCommentsManager.explorerComments.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editComment=function(explorerComment){vm.editedComment=explorerComment,vm.originalComment=angular.copy(explorerComment)},vm.doneEditing=function(explorerComment){vm.editedComment=null,explorerComment.title=explorerComment.title.trim(),explorerComment.title||vm.removeComment(explorerComment)},vm.openExplorerComment=function(explorerComment){var modalInstance=$uibModal.open({animation:!0,templateUrl:"explorer-comment-modal.html",controller:"ExplorerCommentCtrl as explorerCommentCtrl",backdrop:"static",size:"xl",resolve:{explorerCommentData:function(){return explorerComment}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.explorerCommentsManager.getExplorerComments(vm.explorerId)};explorerCommentsCtrl.$inject=["ExplorerCommentsManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.explorer").controller("ExplorerCommentsCtrl",explorerCommentsCtrl);