var explorerProgressCtrl=function(level_categories,ExplorerTodosManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log){var vm=this;vm.explorerId=$stateParams.explorerId,vm.explorerTodos,vm.explorerTodosManager=new ExplorerTodosManager,vm.todoFormDisplay=!1,vm.getExplorerTodoPercentage=function(explorerTodoId){return 100},vm.defaultExplorerTodoData={explorerId:$stateParams.explorerId,privacy:0},vm.newExplorerTodoData=angular.copy(vm.defaultExplorerTodoData),vm.showTodoForm=function(){vm.todoFormDisplay=!0},vm.createExplorerTodo=function(data){vm.explorerTodosManager.createExplorerTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newExplorerTodoData=angular.copy(vm.defaultExplorerTodoData)},function(response){console.log(response)})},vm.editExplorerTodo=function(data){vm.explorerTodosManager.editExplorerTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newExplorerTodoData=angular.copy(vm.defaultExplorerTodoData)},function(response){console.log(response)})},vm.editExplorerTodoSections={title:function(explorerTodoId,title){var explorerTodoData={explorerTodoId:explorerTodoId,title:title};vm.editExplorerTodo(explorerTodoData)}},vm.cancelExplorerTodo=function(form){vm.todoFormDisplay=!1,vm.newExplorerTodoData=angular.copy(vm.defaultExplorerTodoData),form&&(form.$setPristine(),form.$setUntouched())},vm.editedTodo=null,$scope.$watch(angular.bind(this,function(){return vm.explorerTodos}),function(){vm.doneCount=vm.explorerTodosManager.explorerTodos.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editTodo=function(explorerTodo){vm.editedTodo=explorerTodo,vm.originalTodo=angular.copy(explorerTodo)},vm.doneEditing=function(explorerTodo){vm.editedTodo=null,explorerTodo.title=explorerTodo.title.trim(),explorerTodo.title||vm.removeTodo(explorerTodo)},vm.openExplorerTodo=function(explorerTodo){var modalInstance=$uibModal.open({animation:!0,templateUrl:"explorer-todo-modal.html",controller:"ExplorerTodoCtrl as explorerTodoCtrl",backdrop:"static",size:"xl",resolve:{explorerTodoData:function(){return explorerTodo}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.explorerTodosManager.getExplorerTodos(vm.explorerId,level_categories.todo_level_progress).then(function(data){vm.explorerTodos=data})};explorerProgressCtrl.$inject=["level_categories","ExplorerTodosManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log"],angular.module("app.explorer").controller("ExplorerProgressCtrl",explorerProgressCtrl);