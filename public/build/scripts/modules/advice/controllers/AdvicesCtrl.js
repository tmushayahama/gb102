var advicesCtrl=function(level_categories,ConstantsManager,SearchManager,AdvicesManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter,$css){var vm=this;$css.bind({href:"public/build/css/gb-sass/stylesheets/gb-themes/app-theme-advice.css"},$scope),vm.advicesManager=new AdvicesManager,vm.constantsManager=new ConstantsManager,$rootScope.appName="ADVICER",vm.adviceLevels,vm.adviceTypes,$scope.superhero={selected:"Batman"},$scope.$watch("superhero.selected",function(newVal,oldVal){}),vm.createAdvice=function(data){vm.advicesManager.createAdvice(data).then(function(response){vm.FormDisplay=!1,vm.newAdviceData=angular.copy(vm.defaultAdviceData),vm.advicesCopy=angular.copy(vm.advicesManager.advices)},function(response){console.log(response)})},vm.editAdvice=function(data){vm.advicesManager.editAdvice(data).then(function(response){vm.FormDisplay=!1,vm.newAdviceData=angular.copy(vm.defaultAdviceData),vm.advicesCopy=angular.copy(vm.advicesManager.advices)},function(response){console.log(response)})},vm.editAdviceSections={details:function(adviceId,detail){var adviceData={adviceId:adviceId,title:detail.title,description:detail.description};vm.editAdvice(adviceData)}},vm.cancelAdvice=function(form){vm.FormDisplay=!1,vm.newAdviceData=angular.copy(vm.defaultAdviceData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertAdvice=function(advice,adviceCopy){advice=adviceCopy},vm.edited=null,$scope.$watch(angular.bind(this,function(){return vm.advices}),function(){vm.doneCount=vm.advicesManager.advices.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.edit=function(advice){vm.edited=advice,vm.original=angular.copy(advice)},vm.doneEditing=function(advice){vm.edited=null,advice.title=advice.title.trim(),advice.title||vm.remove(advice)},$rootScope.openAddExplorerModal=function(){var modalInstance=$uibModal.open({animation:!0,templateUrl:"create-advice-modal.html",controller:"CreateAdviceCtrl as createAdviceCtrl",backdrop:"static",size:"xl",resolve:{adviceTypes:function(){return vm.adviceTypes}}});modalInstance.result.then(function(advice){vm.advicesManager.createAdvice(advice)},function(){$log.info("Modal dismissed at: "+new Date)})},vm.constantsManager.getLevel(level_categories.advice).then(function(data){vm.adviceTypes=data}),vm.constantsManager.getLevel(level_categories.advice).then(function(data){vm.adviceLevels=data})};advicesCtrl.$inject=["level_categories","ConstantsManager","SearchManager","AdvicesManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter","$css"],angular.module("app.advice").controller("AdvicesCtrl",advicesCtrl);