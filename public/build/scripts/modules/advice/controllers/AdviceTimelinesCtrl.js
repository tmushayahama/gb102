var adviceProgressCtrl=function(AdviceProgressSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.adviceId=$stateParams.adviceId,vm.adviceProgressCopy,vm.adviceProgressSrv=new AdviceProgressSrv,vm.progressFormDisplay=!1,vm.defaultAdviceProgressData={adviceId:$stateParams.adviceId,privacy:0},vm.newAdviceProgressData=angular.copy(vm.defaultAdviceProgressData),vm.showProgressForm=function(){vm.progressFormDisplay=!0},vm.createAdviceProgress=function(data){vm.adviceProgressSrv.createAdviceProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newAdviceProgressData=angular.copy(vm.defaultAdviceProgressData),vm.adviceProgressCopy=angular.copy(vm.adviceProgressSrv.adviceProgress)},function(response){console.log(response)})},vm.editAdviceProgress=function(data){vm.adviceProgressSrv.editAdviceProgress(data).then(function(response){vm.progressFormDisplay=!1,vm.newAdviceProgressData=angular.copy(vm.defaultAdviceProgressData),vm.adviceProgressCopy=angular.copy(vm.adviceProgressSrv.adviceProgress)},function(response){console.log(response)})},vm.editAdviceProgressSections={details:function(adviceProgressId,detail){var adviceProgressData={adviceProgressId:adviceProgressId,title:detail.title,description:detail.description};vm.editAdviceProgress(adviceProgressData)}},vm.cancelAdviceProgress=function(form){vm.progressFormDisplay=!1,vm.newAdviceProgressData=angular.copy(vm.defaultAdviceProgressData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertAdviceProgress=function(adviceProgress,adviceProgressCopy){adviceProgress=adviceProgressCopy},vm.editedProgress=null,$scope.$watch(angular.bind(this,function(){return vm.adviceProgress}),function(){vm.doneCount=vm.adviceProgressSrv.adviceProgress.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editProgress=function(adviceProgress){vm.editedProgress=adviceProgress,vm.originalProgress=angular.copy(adviceProgress)},vm.doneEditing=function(adviceProgress){vm.editedProgress=null,adviceProgress.title=adviceProgress.title.trim(),adviceProgress.title||vm.removeProgress(adviceProgress)},vm.openAdviceProgress=function(adviceProgress){var modalInstance=$uibModal.open({animation:!0,templateUrl:"advice-progress-modal.html",controller:"AdviceProgressCtrl as adviceProgressCtrl",backdrop:"static",size:"xl",resolve:{adviceProgressData:function(){return adviceProgress}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.adviceProgressSrv.getAdviceProgress(vm.adviceId)};adviceProgressCtrl.$inject=["AdviceProgressSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.advice").controller("AdviceProgressCtrl",adviceProgressCtrl);