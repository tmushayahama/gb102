var adviceTodosCtrl=function(AdviceTodosSrv,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log){var vm=this;vm.adviceId=$stateParams.adviceId,vm.adviceTodosSrv=new AdviceTodosSrv,vm.todoFormDisplay=!1,vm.defaultAdviceTodoData={adviceId:$stateParams.adviceId,privacy:0},vm.newAdviceTodoData=angular.copy(vm.defaultAdviceTodoData),vm.showTodoForm=function(){vm.todoFormDisplay=!0},vm.createAdviceTodo=function(data){vm.adviceTodosSrv.createAdviceTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newAdviceTodoData=angular.copy(vm.defaultAdviceTodoData)},function(response){console.log(response)})},vm.editAdviceTodo=function(data){vm.adviceTodosSrv.editAdviceTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newAdviceTodoData=angular.copy(vm.defaultAdviceTodoData)},function(response){console.log(response)})},vm.editAdviceTodoSections={title:function(adviceTodoId,title){var adviceTodoData={adviceTodoId:adviceTodoId,title:title};vm.editAdviceTodo(adviceTodoData)}},vm.cancelAdviceTodo=function(form){vm.todoFormDisplay=!1,vm.newAdviceTodoData=angular.copy(vm.defaultAdviceTodoData),form&&(form.$setPristine(),form.$setUntouched())},vm.editedTodo=null,$scope.$watch(angular.bind(this,function(){return vm.adviceTodos}),function(){vm.doneCount=vm.adviceTodosSrv.adviceTodos.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editTodo=function(adviceTodo){vm.editedTodo=adviceTodo,vm.originalTodo=angular.copy(adviceTodo)},vm.doneEditing=function(adviceTodo){vm.editedTodo=null,adviceTodo.title=adviceTodo.title.trim(),adviceTodo.title||vm.removeTodo(adviceTodo)},vm.openAdviceTodo=function(adviceTodo){var modalInstance=$uibModal.open({animation:!0,templateUrl:"advice-todo-modal.html",controller:"AdviceTodoCtrl as adviceTodoCtrl",backdrop:"static",size:"xl",resolve:{adviceTodoData:function(){return adviceTodo}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.adviceTodosSrv.getAdviceTodos(vm.adviceId)};adviceTodosCtrl.$inject=["AdviceTodosSrv","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log"],angular.module("app.advice").controller("AdviceTodosCtrl",adviceTodosCtrl);