var collaborationTodoCtrl=function(CollaborationTodosSrv,CollaborationTodoChecklistSrv,$uibModalInstance,$scope,$state,$stateParams,$http,$rootScope,$location,$log,collaborationTodoData){var vm=this;vm.collaborationId=collaborationTodoData.collaboration_id,vm.collaborationTodoId=collaborationTodoData.id,vm.collaborationTodosSrv=new CollaborationTodosSrv,vm.collaborationTodoChecklistSrv=new CollaborationTodoChecklistSrv,vm.todoId=collaborationTodoData.todo_id,vm.checklistFormVisible=!1,vm.todoFormDisplay=!1,vm.defaultTodoChecklistData={todoId:vm.todoId,privacy:0},vm.newCollaborationTodoChecklistData=angular.copy(vm.defaultTodoChecklistData),vm.ok=function(){$uibModalInstance.close()},vm.close=function(){$uibModalInstance.dismiss("cancel")},vm.getCollaborationTodo=function(collaborationId,todoId){vm.collaborationTodosSrv.getCollaborationTodo(collaborationId,todoId).then(function(response){},function(error){console.log(error)})},vm.editCollaborationTodo=function(data){vm.collaborationTodosSrv.editCollaborationTodo(data).then(function(response){},function(response){console.log(response)})},vm.editCollaborationTodoSections={details:function(details){var collaborationTodoData={collaborationTodoId:vm.collaborationTodoId,title:details.title,description:details.description};vm.editCollaborationTodo(collaborationTodoData)}},vm.getCollaborationTodoChecklist=function(todoId){vm.collaborationTodoChecklistSrv.getCollaborationTodoChecklist(todoId).then(function(response){},function(response){console.log(response)})},vm.showTodoForm=function(){vm.todoFormDisplay=!0},vm.createCollaborationTodoChecklistItem=function(data){vm.collaborationTodoChecklistSrv.createCollaborationTodoChecklistItem(data).then(function(response){vm.checklistFormVisible=!1,vm.newCollaborationTodoChecklistData=angular.copy(vm.defaultTodoChecklistData)},function(response){console.log(response)})},vm.editCollaborationTodoChecklistItem=function(data){vm.collaborationTodoChecklistSrv.editCollaborationTodoChecklistItem(data).then(function(response){vm.newCollaborationTodoChecklistData=angular.copy(vm.defaultTodoChecklistData)},function(response){console.log(response)})},vm.editCollaborationTodoChecklistItemSections={title:function(checklistId,title){var collaborationTodoChecklistItemData={checklistId:checklistId,title:title};vm.editCollaborationTodoChecklistItem(collaborationTodoChecklistItemData)}},vm.cancelChecklistForm=function(form){vm.checklistFormVisible=!1,vm.newCollaborationTodoChecklistData=angular.copy(vm.defaultTodoChecklistData),form&&(form.$setPristine(),form.$setUntouched())},$scope.$watch(angular.bind(this,function(){return vm.collaborationTodoChecklistSrv.collaborationTodoChecklist}),function(){vm.doneCount=vm.collaborationTodoChecklistSrv.collaborationTodoChecklist.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.getCollaborationTodo(vm.collaborationId,vm.todoId),vm.getCollaborationTodoChecklist(vm.todoId)};collaborationTodoCtrl.$inject=["CollaborationTodosSrv","CollaborationTodoChecklistSrv","$uibModalInstance","$scope","$state","$stateParams","$http","$rootScope","$location","$log","collaborationTodoData"],angular.module("app.collaboration").controller("CollaborationTodoCtrl",collaborationTodoCtrl);