var swipeWeblinksCtrl=function(SwipeWeblinksManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.swipeId=$stateParams.swipeId,vm.swipeWeblinksCopy,vm.swipeWeblinksManager=new SwipeWeblinksManager,vm.weblinkFormDisplay=!1,vm.defaultSwipeWeblinkData={swipeId:$stateParams.swipeId,privacy:0},vm.newSwipeWeblinkData=angular.copy(vm.defaultSwipeWeblinkData),vm.showWeblinkForm=function(){vm.weblinkFormDisplay=!0},vm.createSwipeWeblink=function(data){vm.swipeWeblinksManager.createSwipeWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newSwipeWeblinkData=angular.copy(vm.defaultSwipeWeblinkData),vm.swipeWeblinksCopy=angular.copy(vm.swipeWeblinksManager.swipeWeblinks)},function(response){console.log(response)})},vm.editSwipeWeblink=function(data){vm.swipeWeblinksManager.editSwipeWeblink(data).then(function(response){vm.weblinkFormDisplay=!1,vm.newSwipeWeblinkData=angular.copy(vm.defaultSwipeWeblinkData),vm.swipeWeblinksCopy=angular.copy(vm.swipeWeblinksManager.swipeWeblinks)},function(response){console.log(response)})},vm.editSwipeWeblinkSections={details:function(swipeWeblinkId,detail){var swipeWeblinkData={swipeWeblinkId:swipeWeblinkId,title:detail.title,description:detail.description};vm.editSwipeWeblink(swipeWeblinkData)}},vm.cancelSwipeWeblink=function(form){vm.weblinkFormDisplay=!1,vm.newSwipeWeblinkData=angular.copy(vm.defaultSwipeWeblinkData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertSwipeWeblink=function(swipeWeblink,swipeWeblinkCopy){swipeWeblink=swipeWeblinkCopy},vm.editedWeblink=null,$scope.$watch(angular.bind(this,function(){return vm.swipeWeblinks}),function(){vm.doneCount=vm.swipeWeblinksManager.swipeWeblinks.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editWeblink=function(swipeWeblink){vm.editedWeblink=swipeWeblink,vm.originalWeblink=angular.copy(swipeWeblink)},vm.doneEditing=function(swipeWeblink){vm.editedWeblink=null,swipeWeblink.title=swipeWeblink.title.trim(),swipeWeblink.title||vm.removeWeblink(swipeWeblink)},vm.openSwipeWeblink=function(swipeWeblink){var modalInstance=$uibModal.open({animation:!0,templateUrl:"swipe-weblink-modal.html",controller:"SwipeWeblinkCtrl as swipeWeblinkCtrl",backdrop:"static",size:"xl",resolve:{swipeWeblinkData:function(){return swipeWeblink}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.swipeWeblinksManager.getSwipeWeblinks(vm.swipeId)};swipeWeblinksCtrl.$inject=["SwipeWeblinksManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.swipes").controller("SwipeWeblinksCtrl",swipeWeblinksCtrl);