var swipeNotesCtrl=function(SwipeNotesManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log,$filter){var vm=this;vm.swipeId=$stateParams.swipeId,vm.swipeNotesCopy,vm.swipeNotesManager=new SwipeNotesManager,vm.noteFormDisplay=!1,vm.defaultSwipeNoteData={swipeId:$stateParams.swipeId,privacy:0},vm.newSwipeNoteData=angular.copy(vm.defaultSwipeNoteData),vm.showNoteForm=function(){vm.noteFormDisplay=!0},vm.createSwipeNote=function(data){vm.swipeNotesManager.createSwipeNote(data).then(function(response){vm.noteFormDisplay=!1,vm.newSwipeNoteData=angular.copy(vm.defaultSwipeNoteData),vm.swipeNotesCopy=angular.copy(vm.swipeNotesManager.swipeNotes)},function(response){console.log(response)})},vm.editSwipeNote=function(data){vm.swipeNotesManager.editSwipeNote(data).then(function(response){vm.noteFormDisplay=!1,vm.newSwipeNoteData=angular.copy(vm.defaultSwipeNoteData),vm.swipeNotesCopy=angular.copy(vm.swipeNotesManager.swipeNotes)},function(response){console.log(response)})},vm.editSwipeNoteSections={details:function(swipeNoteId,detail){var swipeNoteData={swipeNoteId:swipeNoteId,title:detail.title,description:detail.description};vm.editSwipeNote(swipeNoteData)}},vm.cancelSwipeNote=function(form){vm.noteFormDisplay=!1,vm.newSwipeNoteData=angular.copy(vm.defaultSwipeNoteData),form&&(form.$setPristine(),form.$setUntouched())},vm.revertSwipeNote=function(swipeNote,swipeNoteCopy){swipeNote=swipeNoteCopy},vm.editedNote=null,$scope.$watch(angular.bind(this,function(){return vm.swipeNotes}),function(){vm.doneCount=vm.swipeNotesManager.swipeNotes.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editNote=function(swipeNote){vm.editedNote=swipeNote,vm.originalNote=angular.copy(swipeNote)},vm.doneEditing=function(swipeNote){vm.editedNote=null,swipeNote.title=swipeNote.title.trim(),swipeNote.title||vm.removeNote(swipeNote)},vm.openSwipeNote=function(swipeNote){var modalInstance=$uibModal.open({animation:!0,templateUrl:"swipe-note-modal.html",controller:"SwipeNoteCtrl as swipeNoteCtrl",backdrop:"static",size:"xl",resolve:{swipeNoteData:function(){return swipeNote}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.swipeNotesManager.getSwipeNotes(vm.swipeId)};swipeNotesCtrl.$inject=["SwipeNotesManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log","$filter"],angular.module("app.swipes").controller("SwipeNotesCtrl",swipeNotesCtrl);