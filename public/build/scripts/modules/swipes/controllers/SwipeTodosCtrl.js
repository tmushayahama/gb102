var swipeTodosCtrl=function(SwipeTodosManager,$scope,$state,$stateParams,$http,$rootScope,$location,$uibModal,$log){var vm=this;vm.swipeId=$stateParams.swipeId,vm.swipeTodosManager=new SwipeTodosManager,vm.todoFormDisplay=!1,vm.defaultSwipeTodoData={swipeId:$stateParams.swipeId,privacy:0},vm.newSwipeTodoData=angular.copy(vm.defaultSwipeTodoData),vm.showTodoForm=function(){vm.todoFormDisplay=!0},vm.createSwipeTodo=function(data){vm.swipeTodosManager.createSwipeTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newSwipeTodoData=angular.copy(vm.defaultSwipeTodoData)},function(response){console.log(response)})},vm.editSwipeTodo=function(data){vm.swipeTodosManager.editSwipeTodo(data).then(function(response){vm.todoFormDisplay=!1,vm.newSwipeTodoData=angular.copy(vm.defaultSwipeTodoData)},function(response){console.log(response)})},vm.editSwipeTodoSections={title:function(swipeTodoId,title){var swipeTodoData={swipeTodoId:swipeTodoId,title:title};vm.editSwipeTodo(swipeTodoData)}},vm.cancelSwipeTodo=function(form){vm.todoFormDisplay=!1,vm.newSwipeTodoData=angular.copy(vm.defaultSwipeTodoData),form&&(form.$setPristine(),form.$setUntouched())},vm.editedTodo=null,$scope.$watch(angular.bind(this,function(){return vm.swipeTodos}),function(){vm.doneCount=vm.swipeTodosManager.swipeTodos.length-vm.remainingCount,vm.allChecked=!vm.remainingCount},!0),vm.editTodo=function(swipeTodo){vm.editedTodo=swipeTodo,vm.originalTodo=angular.copy(swipeTodo)},vm.doneEditing=function(swipeTodo){vm.editedTodo=null,swipeTodo.title=swipeTodo.title.trim(),swipeTodo.title||vm.removeTodo(swipeTodo)},vm.openSwipeTodo=function(swipeTodo){var modalInstance=$uibModal.open({animation:!0,templateUrl:"swipe-todo-modal.html",controller:"SwipeTodoCtrl as swipeTodoCtrl",backdrop:"static",size:"xl",resolve:{swipeTodoData:function(){return swipeTodo}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},vm.swipeTodosManager.getSwipeTodos(vm.swipeId)};swipeTodosCtrl.$inject=["SwipeTodosManager","$scope","$state","$stateParams","$http","$rootScope","$location","$uibModal","$log"],angular.module("app.swipe").controller("SwipeTodosCtrl",swipeTodosCtrl);